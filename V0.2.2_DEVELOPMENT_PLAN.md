# v0.2.2 Development Plan

**Target Release**: January 2026  
**Duration**: 3-4 weeks  
**Status**: In Progress

---

## ğŸ¯ Overview

v0.2.2 fokussiert auf **Quick Wins** mit hohem Nutzen und relativem niedrigem Aufwand.

| Feature | Status | Aufwand | Nutzen | PrioritÃ¤t |
|---------|--------|---------|--------|-----------|
| Automatische Mahnungen | ğŸ”„ In Arbeit | 2-3 Wochen | â­â­â­â­â­ | ğŸ”´ P0 |
| Verbesserte Rollen-UI | ğŸ“‹ Geplant | 1-2 Wochen | â­â­â­ | ğŸŸ¡ P1 |
| Basis DSGVO-Compliance | ğŸ“‹ Geplant | 1-2 Wochen | â­â­â­â­ | ğŸ”´ P0 |

---

## ğŸš€ Feature 1: Automatische Mahnungen

### ğŸ¯ Ziel
Automatisiere die Mahnung fÃ¤lliger GebÃ¼hren mit Email-Benachrichtigungen.

### ğŸ“‹ Anforderungen

**Backend (PHP/Laravel-Style):**
- [ ] `ReminderService` Klasse erstellen
  - Cronjob Trigger (tÃ¤glich um 08:00 UTC)
  - Status-Check: GebÃ¼hren mit Status "offen" UND FÃ¤lligkeitsdatum Ã¼berschritten
  - Mahnstufe-Logik (1., 2., Final)
  - Email-Template Rendering
  - Logging aller gesendeten Mahnungen

**Email-Templates:**
- [ ] Mahnung 1 (10 Tage Ã¼berfÃ¤llig)
- [ ] Mahnung 2 (20 Tage Ã¼berfÃ¤llig)
- [ ] Mahnung Final (30+ Tage Ã¼berfÃ¤llig)

**Frontend (Vue.js):**
- [ ] Reminder Settings Tab im Admin-Panel
  - Email-Template Editor
  - Mahnstufen konfigurieren
  - Cronjob Status anzeigen
  - Mahngrenzen setzen
- [ ] Mahnung-Log Dashboard
  - Ãœbersicht aller gesendeten Mahnungen
  - Filter nach Mahnstufe, Mitglied, Datum

**Database:**
- [ ] `reminders` Tabelle
  - `id`, `fee_id`, `member_id`, `stage`, `sent_at`, `email`, `status`
- [ ] Migration erstellen

**Tests:**
- [ ] Unit Tests fÃ¼r ReminderService
- [ ] Integration Tests fÃ¼r Email-Sending
- [ ] Edge Cases (Duplikate, abgelÃ¶ste GebÃ¼hren, etc.)

### ğŸ”§ Implementation Checklist
- [ ] Migration: Create `reminders` table
- [ ] `lib/Service/ReminderService.php` erstellen
- [ ] Email-Templates unter `templates/email/`
- [ ] RemindersTab Vue-Komponente
- [ ] RemindersLog Vue-Komponente
- [ ] API Endpoints fÃ¼r Reminder-Management
- [ ] Cronjob Registration (appinfo/info.xml)
- [ ] Tests (Unit + Integration)
- [ ] Dokumentation

---

## ğŸ’¾ Feature 2: Verbesserte Rollen-UI

### ğŸ¯ Ziel
Intuitive UI fÃ¼r Rollen-Verwaltung im Admin-Panel.

### ğŸ“‹ Anforderungen

**Frontend (Vue.js):**
- [ ] RolesManager Tab im Admin-Panel
  - Berechtigungen-Matrix anzeigen (Tabelle)
  - Rollen schnell Mitgliedern zuweisen
  - Bulk-Operationen (mehrere Mitglieder auf einmal)
  - Rollen-Dokumentation (Inline-Hilfe)
  
- [ ] Rollen-Ãœbersicht
  - Welche Rollen gibt es?
  - Wer hat welche Rolle?
  - Was darf die Rolle?

**Backend (PHP):**
- [ ] Verbesserte Role-Query Optimierungen
- [ ] Bulk-Role-Assignment Endpoint
- [ ] Role Permissions API mit Detail

**Tests:**
- [ ] UI Component Tests
- [ ] API Tests fÃ¼r Bulk-Operations

### ğŸ”§ Implementation Checklist
- [ ] RolesManager.vue Komponente
- [ ] RolesMatrix.vue Sub-Komponente
- [ ] API Endpoint fÃ¼r Bulk-Role-Assignment
- [ ] Inline-Dokumentation/Hilfe
- [ ] Tests
- [ ] Dokumentation

---

## ğŸ” Feature 3: Basis DSGVO-Compliance

### ğŸ¯ Ziel
Grundlegende DSGVO-Anforderungen implementieren (Art. 13, 15, 17, 20).

### ğŸ“‹ Anforderungen

**Frontend (Vue.js):**
- [ ] Privacy-Settings Tab
  - DatenschutzerklÃ¤rung anzeigen
  - Einwilligungs-Status prÃ¼fen
  
- [ ] Benutzer-Profil erweitern
  - "Meine Daten exportieren" Button
  - "Mein Konto lÃ¶schen" Button
  - Einwilligungs-History anzeigen

**Backend (PHP):**
- [ ] `PrivacyService` Klasse
  - Datenexport (JSON format)
  - KontolÃ¶schung mit Anonymisierung
  - Einwilligungs-Tracking
  
- [ ] Database Migrations
  - `privacy_consents` Tabelle
  - `audit_logs` Tabelle (fÃ¼r LÃ¶schanfragen)
  
- [ ] API Endpoints
  - `GET /api/v1/privacy/my-data` â†’ JSON Export
  - `POST /api/v1/privacy/delete-account` â†’ LÃ¶schanfrage
  - `GET /api/v1/privacy/consent-status` â†’ Status
  
- [ ] DatenschutzerklÃ¤rung Template
  - Welche Daten werden gespeichert?
  - Wie lange?
  - WofÃ¼r?

**Tests:**
- [ ] Unit Tests fÃ¼r PrivacyService
- [ ] Integration Tests fÃ¼r Datenexport
- [ ] DSGVO-Compliance Tests

### ğŸ”§ Implementation Checklist
- [ ] Migrations: `privacy_consents`, `audit_logs`, `consent_timestamps`
- [ ] `lib/Service/PrivacyService.php` erstellen
- [ ] API Endpoints fÃ¼r Privacy
- [ ] PrivacySettings.vue Komponente
- [ ] UserProfile.vue Erweiterung
- [ ] DatenschutzerklÃ¤rung Template
- [ ] Tests (Unit + Integration)
- [ ] Dokumentation (DSGVO-Compliance Guide)

---

## ğŸ“Š Implementation Timeline

### Woche 1: Automatische Mahnungen (Basis)
- Tag 1-2: Database Schema + Backend Service
- Tag 3-4: Email Templates + Cronjob
- Tag 5: Frontend Tab + Tests

### Woche 2: Rollen-UI + DSGVO-Basis
- Tag 1-2: RolesManager UI Komponente
- Tag 3-4: DSGVO-Backend (Privacy Service)
- Tag 5: DSGVO-Frontend + Tests

### Woche 3: Refinement & Testing
- Tag 1-2: Integration Tests
- Tag 3: Bug Fixes & Optimierung
- Tag 4-5: Documentation & Release Notes

### Woche 4: Release Vorbereitung
- Finales Testing
- Tag Release (v0.2.2)

---

## ğŸ§ª Testing Strategy

- **Unit Tests**: PHP Services (ReminderService, PrivacyService)
- **Integration Tests**: API Endpoints, Database
- **Component Tests**: Vue.js Komponenten
- **E2E Tests** (optional): Volle Workflows

**Target Coverage**: 80%+

---

## ğŸ“š Documentation

- [ ] v0.2.2 Release Notes (DE/EN)
- [ ] DSGVO Compliance Guide
- [ ] Admin Guide fÃ¼r Mahnungen
- [ ] Admin Guide fÃ¼r Rollen-Verwaltung

---

## ğŸš€ Release Checklist

- [ ] Alle Features implementiert
- [ ] Alle Tests bestanden (80%+ Coverage)
- [ ] Code Review durchgefÃ¼hrt
- [ ] Dokumentation vollstÃ¤ndig
- [ ] v0.2.2 Tag erstellt
- [ ] Release Notes verÃ¶ffentlicht
- [ ] GitHub Release erstellt

---

**Created**: December 1, 2025  
**Branch**: `release/v0.2.2`
